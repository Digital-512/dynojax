"use strict";var Dynojax=function(){var a={};return a.load=function(b,c,d){var e={resetScroll:!0,reloadOnError:!0,animations:!0,fadeIn:"fast",fadeOut:"fast"};return $.extend(e,d),a.supportDynojax?void(history.replaceState({component:b,options:e,scroll:{x:window.pageXOffset,y:window.pageYOffset}},document.title),e.animations&&a.hideComponent(b,e.fadeOut),$(document).trigger("dynojax:start",[b,c]),$.ajax({method:"GET",cache:!1,headers:{"X-DYNOJAX-RENDER":!0},url:c}).done(function(d,f,g){$(".dynojax-"+b).html(d);var h=e.title||g.getResponseHeader("X-DYNOJAX-TITLE");history.pushState({component:b,options:e,scroll:{x:0,y:0}},h,c),document.title=h,e.resetScroll&&window.scrollTo(0,0),e.animations&&a.showComponent(b,e.fadeIn),$(document).trigger("dynojax:end",[b,c,f,g])}).fail(function(a,d){$(document).trigger("dynojax:error",[b,c,d,a]),e.reloadOnError&&(window.location.href=c)})):void(window.location.href=c)},a.loadWidget=function(b,c,d){var e={animations:!0,fadeIn:"fast",fadeOut:"fast"};$.extend(e,d),e.animations&&a.hideComponent(b,e.fadeOut),$(document).trigger("dynojax:widget-start",[b,c]),$.ajax({method:"GET",cache:!1,headers:{"X-DYNOJAX-RENDER":!0},url:c}).done(function(d){$(".dynojax-"+b).html(d),e.animations&&a.showComponent(b,e.fadeIn),$(document).trigger("dynojax:widget-end",[b,c,status,xhr])}).fail(function(a,d){$(document).trigger("dynojax:error",[b,c,d,a])})},a.hideComponent=function(a,b){$(".dynojax-"+a).animate({opacity:0},b,function(){$(this).css("visibility","hidden")})},a.showComponent=function(a,b){$(".dynojax-"+a).finish().css("visibility","").animate({opacity:1},b,function(){$(this).css("opacity","")})},a.supportDynojax=window.history&&window.history.pushState&&!/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/.test(navigator.userAgent),a}();$(function(){$("body").on("click","a[data-dynojax]",function(a){1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.isDefaultPrevented()||!Dynojax.supportDynojax||(a.preventDefault(),Dynojax.load($(this).data("dynojax"),$(this).attr("href")))}),window.onpopstate=function(a){a.state.component&&(a.state.options.animations&&Dynojax.hideComponent(a.state.component,a.state.options.fadeOut),$(document).trigger("dynojax:popstate-start",[a.state.component,document.location]),$.ajax({method:"GET",cache:!1,headers:{"X-DYNOJAX-RENDER":!0},url:document.location}).done(function(b){$(".dynojax-"+a.state.component).html(b),a.state.options.resetScroll&&window.scrollTo(a.state.scroll.x,a.state.scroll.y),a.state.options.animations&&Dynojax.showComponent(a.state.component,a.state.options.fadeIn),$(document).trigger("dynojax:popstate-end",[a.state.component,document.location])}).fail(function(b,c){$(document).trigger("dynojax:error",[a.state.component,document.location,c,b]),a.state.options.reloadOnError&&(window.location.href=document.location)}))}});