"use strict";var Dynojax=function(){var a={};return a.load=function(b,c,d){var e={resetScroll:!0,reloadOnError:!0,animations:!0,fadeIn:200,fadeOut:200};return Object.assign(e,d),a.supportDynojax?void(history.replaceState({component:b,options:e,scroll:{x:window.pageXOffset,y:window.pageYOffset}},document.title),e.animations&&a.hideElement(document.getElementById("dynojax-"+b),e.fadeOut),document.dispatchEvent(new CustomEvent("dynojax:start",{component:b,page:c})),a.fetchComponent(b,c,e).then(function(d){if(d.ok){a.renderHtml(b,d.data,d.headers);var f=e.title||d.headers.get("X-DYNOJAX-TITLE");history.pushState({component:b,options:e,scroll:{x:0,y:0}},f,c),document.title=f,e.resetScroll&&window.scrollTo(0,0),e.animations&&a.showElement(document.getElementById("dynojax-"+b),e.fadeIn)}document.dispatchEvent(new CustomEvent("dynojax:end",{component:b,page:c,status:d.status}))})):void(window.location.href=c)},a.loadWidget=function(b,c,d){var e={animations:!0,fadeIn:200,fadeOut:200};Object.assign(e,d),e.animations&&a.hideElement(document.getElementById("dynojax-"+b),e.fadeOut),document.dispatchEvent(new CustomEvent("dynojax:widget-start",{component:b,page:c})),a.fetchComponent(b,c,e).then(function(d){d.ok&&(a.renderHtml(b,d.data,d.headers),e.animations&&a.showElement(document.getElementById("dynojax-"+b),e.fadeIn)),document.dispatchEvent(new CustomEvent("dynojax:widget-end",{component:b,page:c,status:d.status}))})},a.fetchComponent=async function(a,b,c){var d=!0;try{var e=await fetch(b,{method:"GET",mode:"same-origin",cache:"no-store",headers:{"X-DYNOJAX-RENDER":!0}});if(!e.ok&&(document.dispatchEvent(new CustomEvent("dynojax:response-fail",{component:a,page:b,status:e.status,statusText:e.statusText})),c.reloadOnError))return void(window.location.href=b);var f=await e.text()}catch(c){d=!1,document.dispatchEvent(new CustomEvent("dynojax:error",{component:a,page:b,error:c}))}finally{return{ok:d,data:f,headers:e.headers,status:e.status}}},a.hideElement=function(a,b){clearTimeout(a.animationTimeout);var c=a.style;c.opacity=0,c.transition="opacity "+b/1e3+"s",a.animationTimeout=setTimeout(function(){c.removeProperty("transition"),c.visibility="hidden"},b)},a.showElement=function(a,b){clearTimeout(a.animationTimeout);var c=a.style;c.removeProperty("visibility"),c.removeProperty("transition"),a.offsetHeight,c.transition="opacity "+b/1e3+"s",c.opacity=1,a.animationTimeout=setTimeout(function(){c.removeProperty("opacity"),c.removeProperty("transition")},b)},a.renderHtml=function(a,b){document.getElementById("dynojax-"+a).innerHTML=b},a.supportDynojax=window.history&&window.history.pushState&&!/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/.test(navigator.userAgent),a}();document.addEventListener("click",function(a){if("A"===a.target.tagName&&a.target.dataset.dynojax){if(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)return;if(a.defaultPrevented)return;if(!Dynojax.supportDynojax)return;a.preventDefault(),Dynojax.load(a.target.dataset.dynojax,a.target.href)}}),window.onpopstate=function(a){a.state.component&&(a.state.options.animations&&Dynojax.hideElement(document.getElementById("dynojax-"+a.state.component),a.state.options.fadeOut),document.dispatchEvent(new CustomEvent("dynojax:popstate-start",{component:a.state.component,page:document.location})),Dynojax.fetchComponent(a.state.component,document.location,a.state.options).then(function(b){b.ok&&(Dynojax.renderHtml(a.state.component,b.data,b.headers),a.state.options.resetScroll&&window.scrollTo(a.state.scroll.x,a.state.scroll.y),a.state.options.animations&&Dynojax.showElement(document.getElementById("dynojax-"+a.state.component),a.state.options.fadeIn)),document.dispatchEvent(new CustomEvent("dynojax:popstate-end",{component:a.state.component,page:document.location,status:b.status}))}))};